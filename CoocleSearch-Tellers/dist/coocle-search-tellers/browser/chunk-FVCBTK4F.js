import{a as Z,b as v,c as ee,d as te,e as ne,f as _,g as ie,h as oe,i as re,p as y,q as ae}from"./chunk-MC74N3Z2.js";import{$ as I,A as b,E as P,G as p,H as Y,I as e,J as t,K as s,L as U,M as u,N as w,O as n,P as g,S as f,_ as K,aa as h,ba as Q,fa as X,ga as M,ha as z,ja as c,k as H,l as k,n as J,p as m,q as T,t as V,u as B,w as W,z as l}from"./chunk-5VA7YNX3.js";var F=class a{constructor(o){this.router=o}adminInfos;accessToken;toggleSidebar(){(window.innerWidth>0?window.innerWidth:screen.width)<1199?$("#main-wrapper").attr("data-sidebartype","mini-sidebar").addClass("mini-sidebar"):$("#main-wrapper").attr("data-sidebartype","full").removeClass("mini-sidebar"),$(window).on("resize",()=>{(window.innerWidth>0?window.innerWidth:screen.width)<1199?$("#main-wrapper").attr("data-sidebartype","mini-sidebar").addClass("mini-sidebar"):$("#main-wrapper").attr("data-sidebartype","full").removeClass("mini-sidebar")}),$(".sidebartoggler").on("click",function(){$("#main-wrapper").toggleClass("mini-sidebar");let i=$("#main-wrapper").hasClass("mini-sidebar");$(".sidebartoggler").prop("checked",i),$("#main-wrapper").attr("data-sidebartype",i?"mini-sidebar":"full")}),$(".sidebartoggler").on("click",function(){$("#main-wrapper").toggleClass("show-sidebar")})}ngOnInit(){this.toggleSidebar(),this.adminInfos=JSON.parse(sessionStorage.getItem("teller_infos")||"{}"),this.accessToken=sessionStorage.getItem("access_token")}sidebarToggle=new W;onToggleSidebar(){console.log("Toggle sidebar clicked"),this.sidebarToggle.emit()}logout(){sessionStorage.removeItem("teller_infos"),sessionStorage.removeItem("access_token"),this.router.navigate(["/auth/login"])}static \u0275fac=function(i){return new(i||a)(b(M))};static \u0275cmp=m({type:a,selectors:[["app-header"]],outputs:{sidebarToggle:"sidebarToggle"},standalone:!0,features:[f],decls:54,vars:0,consts:[[1,"navbar","navbar-expand","navbar-custom","topbar","shadow"],["id","sidebarToggleTop",1,"btn","btn-link","d-md-none","rounded-circle","me-3",3,"click"],[1,"fa","fa-bars","text-white"],[1,"navbar-nav","ms-auto","d-flex","align-items-center"],[1,"nav-item","dropdown","no-arrow","mx-1"],["href","#","id","alertsDropdown","role","button","data-bs-toggle","dropdown","aria-expanded","false",1,"nav-link","dropdown-toggle"],[1,"fas","fa-bell","fa-fw","text-white"],[1,"badge","badge-counter"],["aria-labelledby","alertsDropdown",1,"dropdown-menu","dropdown-menu-end","shadow","animated--grow-in"],[1,"dropdown-header"],["href","#",1,"dropdown-item","d-flex","align-items-center"],[1,"me-3"],[1,"icon-circle","bg-primary"],[1,"fas","fa-file-alt","text-white"],[1,"small","text-gray-500"],[1,"font-weight-bold"],["href","#","id","messagesDropdown","role","button","data-bs-toggle","dropdown","aria-expanded","false",1,"nav-link","dropdown-toggle"],[1,"fas","fa-envelope","fa-fw","text-white"],["aria-labelledby","messagesDropdown",1,"dropdown-menu","dropdown-menu-end","shadow","animated--grow-in"],[1,"dropdown-list-image","me-3"],["src","assets/img/undraw_profile_3.svg","alt","...","width","40","height","40",1,"rounded-circle"],[1,"status-indicator","bg-warning"],[1,"text-truncate"],[1,"topbar-divider","d-none","d-sm-block"],[1,"nav-item","dropdown"],["href","#","id","userDropdown","role","button","data-bs-toggle","dropdown","aria-expanded","false",1,"nav-link","dropdown-toggle","d-flex","align-items-center"],[1,"me-2","d-none","d-lg-inline","user-name"],["src","assets/img/undraw_profile.svg","width","35","height","35",1,"img-profile","rounded-circle"],["aria-labelledby","userDropdown",1,"dropdown-menu","dropdown-menu-end","shadow","animated--grow-in"],["routerLink","/teller/profile",1,"dropdown-item"],[1,"fas","fa-user","me-2"],[1,"dropdown-divider"],[1,"dropdown-item",3,"click"],[1,"fas","fa-sign-out-alt","me-2"]],template:function(i,r){i&1&&(e(0,"nav",0)(1,"button",1),u("click",function(){return r.onToggleSidebar()}),s(2,"i",2),t(),e(3,"ul",3)(4,"li",4)(5,"a",5),s(6,"i",6),e(7,"span",7),n(8,"3+"),t()(),e(9,"div",8)(10,"h6",9),n(11,"Centre d\u2019alertes"),t(),e(12,"a",10)(13,"div",11)(14,"div",12),s(15,"i",13),t()(),e(16,"div")(17,"div",14),n(18,"12 Juillet 2025"),t(),e(19,"span",15),n(20,"Un nouveau rapport est disponible !"),t()()()()(),e(21,"li",4)(22,"a",16),s(23,"i",17),e(24,"span",7),n(25,"7"),t()(),e(26,"div",18)(27,"h6",9),n(28,"Centre de messages"),t(),e(29,"a",10)(30,"div",19),s(31,"img",20)(32,"div",21),t(),e(33,"div",22),n(34," Le rapport du mois dernier est excellent ! "),e(35,"div",14),n(36,"Morgan Alvarez \xB7 il y a 2j"),t()()()()(),s(37,"div",23),e(38,"li",24)(39,"a",25)(40,"span",26),n(41,"Douglas McGee"),t(),s(42,"img",27),t(),e(43,"ul",28)(44,"li")(45,"a",29),s(46,"i",30),n(47," Profil"),t()(),e(48,"li"),s(49,"hr",31),t(),e(50,"li")(51,"a",32),u("click",function(){return r.logout()}),s(52,"i",33),n(53," D\xE9connexion"),t()()()()()())},dependencies:[c,z],styles:['@charset "UTF-8";a[_ngcontent-%COMP%]{cursor:pointer}.navbar-custom[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:10px 25px;color:#000;border-bottom:1px solid #e0e0e0;background-color:#fff}.user-name[_ngcontent-%COMP%]{color:#000;font-weight:600}.navbar[_ngcontent-%COMP%]   .fa-fw[_ngcontent-%COMP%]{font-size:18px;color:#000!important}.img-profile[_ngcontent-%COMP%]{object-fit:cover;border:2px solid #fff}.badge-counter[_ngcontent-%COMP%]{position:absolute;transform:scale(.9);transform-origin:top right;background-color:#ffc107;color:#000;font-weight:700;font-size:11px;border-radius:50px;padding:4px 7px}.dropdown-menu[_ngcontent-%COMP%]{border-radius:12px;padding:10px;font-size:14px;background:#fff}.dropdown-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}.dropdown-item[_ngcontent-%COMP%]:hover{background-color:#fceabb;color:#000}@media (max-width: 768px){.navbar[_ngcontent-%COMP%]   .user-name[_ngcontent-%COMP%]{display:none}.navbar[_ngcontent-%COMP%]   .img-profile[_ngcontent-%COMP%]{width:32px;height:32px}.navbar-nav[_ngcontent-%COMP%]{gap:10px}}@media (max-width: 992px){.navbar-custom[_ngcontent-%COMP%]{padding:8px 20px}.navbar[_ngcontent-%COMP%]   .fa-fw[_ngcontent-%COMP%]{font-size:16px}.navbar[_ngcontent-%COMP%]   .img-profile[_ngcontent-%COMP%]{width:30px;height:30px}.badge-counter[_ngcontent-%COMP%]{padding:3px 6px;font-size:10px}.navbar-nav[_ngcontent-%COMP%]{gap:8px}}@media (max-width: 576px){.navbar-custom[_ngcontent-%COMP%]{padding:6px 15px}#sidebarToggleTop[_ngcontent-%COMP%]{background-image:linear-gradient(180deg,#dda706 10%,#6d5203);border:none;color:#fff;width:30px;height:30px;padding:0;border-radius:50%;display:flex;align-items:center;justify-content:center}#sidebarToggleTop[_ngcontent-%COMP%]   i.fa[_ngcontent-%COMP%]{font-size:18px}.navbar[_ngcontent-%COMP%]   .user-name[_ngcontent-%COMP%]{display:none!important}.navbar[_ngcontent-%COMP%]   .img-profile[_ngcontent-%COMP%]{width:28px;height:28px}.navbar[_ngcontent-%COMP%]   .fa-fw[_ngcontent-%COMP%]{font-size:14px}.badge-counter[_ngcontent-%COMP%]{padding:2px 5px;font-size:9px}.navbar-nav[_ngcontent-%COMP%]{gap:6px}#sidebarToggleTop[_ngcontent-%COMP%]{padding:6px 8px}.navbar[_ngcontent-%COMP%]   .img-profile[_ngcontent-%COMP%]{object-fit:cover;border:2px solid #fff}}']})};var N=class a{constructor(o){this.router=o}adminInfos;accessToken;ngOnInit(){this.adminInfos=JSON.parse(sessionStorage.getItem("admin_infos")||"{}"),this.accessToken=sessionStorage.getItem("access_token")}Activate(){"use strict";var o=window.location.href,i=o.replace(window.location.protocol+"//"+window.location.host+"/",""),r=this,d=$("ul#sidebarnav a").filter(function(){return $(this).attr("href")===o||$(this).attr("href")===i});if(window.location.pathname==="/"){var E=$("ul#sidebarnav a[href='/home']");E.addClass("active")}d.parentsUntil(".sidebar-nav").each(function(){$(this).is("li")&&$(this).children("a").length!==0?($(this).children("a").addClass("active"),$(this).parent("ul#sidebarnav").length===0?$(this).addClass("active"):$(this).addClass("selected")):!$(this).is("ul")&&$(this).children("a").length===0?$(this).addClass("selected"):$(this).is("ul")&&$(this).addClass("in")}),d.addClass("active"),$("#sidebarnav a").on("click",function(G){var x=$(this);x.hasClass("active")?(x.removeClass("active"),x.parents("ul:first").removeClass("active"),x.next("ul").removeClass("in")):($("ul",x.parents("ul:first")).removeClass("in"),$("a",x.parents("ul:first")).removeClass("active"),x.next("ul").addClass("in"),x.addClass("active"))}),$("#sidebarnav >li >a.has-arrow").on("click",function(G){G.preventDefault()})}ngAfterViewInit(){this.Activate()}static \u0275fac=function(i){return new(i||a)(b(M))};static \u0275cmp=m({type:a,selectors:[["app-sidebar"]],standalone:!0,features:[f],decls:66,vars:0,consts:[["id","accordionSidebar",1,"navbar-nav","bg-gradient-primary","sidebar","sidebar-dark","accordion","shadow"],["routerLink","/admin/dashboard",1,"sidebar-brand","d-flex","align-items-center","justify-content-center"],[1,"sidebar-brand-icon","rotate-n-15"],[1,"fas","fa-laugh-wink"],[1,"sidebar-brand-text","mx-2"],[1,"sidebar-divider","my-0"],[1,"nav-item","active"],["routerLink","/teller/dashboard",1,"nav-link"],[1,"fas","fa-chart-line"],[1,"sidebar-divider"],[1,"sidebar-heading"],[1,"nav-item"],["href","#","data-toggle","collapse","data-target","#collapseBusiness",1,"nav-link","collapsed"],[1,"fas","fa-briefcase"],["id","collapseBusiness","data-parent","#accordionSidebar",1,"collapse"],[1,"bg-white","py-2","collapse-inner","rounded"],[1,"collapse-header"],["routerLink","/teller/business/create-business",1,"collapse-item"],["routerLink","/teller/business/readall-business",1,"collapse-item"],["href","#","data-toggle","collapse","data-target","#collapseAdvertissement",1,"nav-link","collapsed"],[1,"fas","fa-bullhorn"],["id","collapseAdvertissement","data-parent","#accordionSidebar",1,"collapse"],["routerLink","/admin/advertisement/create-adver",1,"collapse-item"],["routerLink","/admin/advertisement/readall-adver",1,"collapse-item"],["href","#","data-toggle","collapse","data-target","#collapseCategories",1,"nav-link","collapsed"],[1,"fas","fa-tags"],["id","collapseCategories","data-parent","#accordionSidebar",1,"collapse"],["routerLink","/teller/categories/readall-categories",1,"collapse-item"],["routerLink","/teller/categories/create-categories",1,"collapse-item"],["href","#","data-toggle","collapse","data-target","#collapseSettings",1,"nav-link","collapsed"],[1,"fas","fa-user-cog"],["id","collapseSettings","data-parent","#accordionSidebar",1,"collapse"],["routerLink","/teller/profile",1,"collapse-item"]],template:function(i,r){i&1&&(e(0,"ul",0)(1,"a",1)(2,"div",2),s(3,"i",3),t(),e(4,"div",4),n(5,"COOCLE Search"),t()(),s(6,"hr",5),e(7,"li",6)(8,"a",7),s(9,"i",8),e(10,"span"),n(11,"Dashboard"),t()()(),s(12,"hr",9),e(13,"div",10),n(14,"Gestion"),t(),e(15,"li",11)(16,"a",12),s(17,"i",13),e(18,"span"),n(19,"Entit\xE9s"),t()(),e(20,"div",14)(21,"div",15)(22,"h6",16),n(23,"Mes entit\xE9s"),t(),e(24,"a",17),n(25,"Ajouter une entit\xE9"),t(),e(26,"a",18),n(27,"Voir mes entit\xE9s"),t()()()(),e(28,"li",11)(29,"a",19),s(30,"i",20),e(31,"span"),n(32,"Publicit\xE9s"),t()(),e(33,"div",21)(34,"div",15)(35,"h6",16),n(36,"Mes publicit\xE9s"),t(),e(37,"a",22),n(38,"Cr\xE9er une publicit\xE9"),t(),e(39,"a",23),n(40,"Voir mes publicit\xE9s"),t()()()(),e(41,"li",11)(42,"a",24),s(43,"i",25),e(44,"span"),n(45,"Cat\xE9gories"),t()(),e(46,"div",26)(47,"div",15)(48,"h6",16),n(49,"Cat\xE9gories dispo"),t(),e(50,"a",27),n(51,"Toutes les cat\xE9gories"),t(),e(52,"a",28),n(53,"Proposer une cat\xE9gorie"),t()()()(),s(54,"hr",9),e(55,"div",10),n(56,"Compte"),t(),e(57,"li",11)(58,"a",29),s(59,"i",30),e(60,"span"),n(61,"Param\xE8tres"),t()(),e(62,"div",31)(63,"div",15)(64,"a",32),n(65,"Mon profil"),t()()()()())},dependencies:[c,z],styles:[".sidebar[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{padding:.75rem 1.2rem;font-size:15px;font-weight:500}.sidebar[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:hover{background-color:#ffffff1a;transition:background-color .3s}.sidebar[_ngcontent-%COMP%]   .collapse-inner[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#b89019;font-weight:600}.bg-gradient-primary[_ngcontent-%COMP%]{background-image:linear-gradient(180deg,#dda706 10%,#6d5203);background-size:cover}.sidebar-heading[_ngcontent-%COMP%]{font-size:13px;text-transform:uppercase;margin:1rem 1rem .5rem;color:#ffffff80}@media (max-width: 576px){.nav-item[_ngcontent-%COMP%]{margin-left:-10px}}"]})};var D=class a{_sidebarOpen=!1;closeSidebar(){this.sidebarOpen===!0&&(this.sidebarOpen=!1)}get sidebarOpen(){return this._sidebarOpen}set sidebarOpen(o){this._sidebarOpen=o,console.log("sidebarOpen:",o)}static \u0275fac=function(i){return new(i||a)};static \u0275cmp=m({type:a,selectors:[["app-teller"]],standalone:!0,features:[f],decls:7,vars:2,consts:[["id","wrapper"],["id","content-wrapper",1,"d-flex","flex-column"],["id","content"],[3,"sidebarToggle"],[1,"main-content-area",3,"click"]],template:function(i,r){i&1&&(e(0,"div",0),s(1,"app-sidebar"),e(2,"div",1)(3,"div",2)(4,"app-header",3),u("sidebarToggle",function(){return r.sidebarOpen=!r.sidebarOpen}),t(),e(5,"div",4),u("click",function(){return r.closeSidebar()}),s(6,"router-outlet"),t()()()()),i&2&&(l(),Y("active",r.sidebarOpen))},dependencies:[F,N,c,X],styles:['@charset "UTF-8";#wrapper[_ngcontent-%COMP%]{display:flex}app-sidebar[_ngcontent-%COMP%]{position:fixed;top:0;left:0;height:100vh;width:250px;z-index:1030;background-color:#f8f9fa}app-header[_ngcontent-%COMP%]{position:fixed;top:0;left:250px;right:0;z-index:1020;width:calc(100% - 250px)}#content-wrapper[_ngcontent-%COMP%]{margin-left:250px}.main-content-area[_ngcontent-%COMP%]{padding-top:80px;padding-left:20px;padding-right:20px}#wrapper[_ngcontent-%COMP%]{display:flex;min-height:100vh}app-sidebar[_ngcontent-%COMP%]{flex-shrink:0}#content-wrapper[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column}@media (max-width: 992px){app-sidebar[_ngcontent-%COMP%]{width:200px}}@media (max-width: 576px){#wrapper[_ngcontent-%COMP%]{flex-direction:column}app-sidebar[_ngcontent-%COMP%]{position:fixed;top:0;left:-250px;width:100px;height:100%;transition:left .3s ease;background:#fff;z-index:9999}app-header[_ngcontent-%COMP%]{position:fixed;top:0;left:0;right:0;width:100%;z-index:1020}app-sidebar.active[_ngcontent-%COMP%]{left:0}#content-wrapper[_ngcontent-%COMP%]{flex:1;margin-left:0;width:100%}#content[_ngcontent-%COMP%]{padding-top:56px}}']})};var O=class a{constructor(o){this.http=o}api_url=ae.apiUrl;CreateTeller(o){return this.http.post(this.api_url+"/api/teller/create",o)}UpdateTeller(o){return this.http.post(this.api_url+"/api/teller/update_teller",o)}ReportsTeller(o){return this.http.post(this.api_url+"/api/reports/reports_teller",o)}static \u0275fac=function(i){return new(i||a)(J(Q))};static \u0275prov=H({token:a,factory:a.\u0275fac,providedIn:"root"})};function pe(a,o){if(a&1){let i=U();e(0,"button",26),u("click",function(){V(i);let d=w();return B(d.isEditing=!0)}),n(1,"Modifier"),t()}}function ce(a,o){if(a&1&&(e(0,"button",27),n(1,"Enregistrer"),t()),a&2){let i=w();p("disabled",i.profileForm.invalid)}}function me(a,o){if(a&1){let i=U();e(0,"button",28),u("click",function(){V(i);let d=w();return B(d.cancelEdit())}),n(1,"Annuler"),t()}}var j=class a{constructor(o,i){this.router=o;this.http=i}data;teller_infos;loading=!1;is_loading=!1;profileForm;isEditing=!1;userType="teller";ngOnInit(){let o=JSON.parse(sessionStorage.getItem("teller_infos")||"{}");this.profileForm=new ne({t_fullname:new _(o.t_fullname||"",v.required),t_username:new _(o.t_username||"",v.required),t_email:new _(o.t_email||"",v.required),t_mobile:new _(o.t_mobile||"",v.required),t_address:new _(o.t_address||"",v.required),t_city:new _(o.t_city||"",v.required),t_uid:new _(o.t_uid||"",v.required)})}updateTeller(){this.loading=!0;let o=this.profileForm.value;this.http.UpdateTeller(o).subscribe({next:i=>{if(console.log("Response:",i),i?.status==="success"){let r=this.profileForm.value;console.log("Updated Profile:",r),sessionStorage.setItem("teller_infos",JSON.stringify(r)),this.isEditing=!1,this.data=i,i.teller_infos?this.showSuccessToast("Mise \xE0 jour r\xE9ussie"):this.showErrorToast("Erreur : donn\xE9es incompl\xE8tes")}else this.showErrorToast("\xC9chec de la mise \xE0 jour. Veuillez r\xE9essayer.")},error:i=>{console.error("Erreur :",i),this.showErrorToast("Une erreur est survenue. Veuillez r\xE9essayer.")},complete:()=>{this.loading=!1}})}showSuccessToast(o){let i=document.getElementById("successToastBody");i?i.textContent=o:console.warn("Success toast body element not found.");let r=document.getElementById("successToast");new bootstrap.Toast(r,{delay:2e3}).show()}showErrorToast(o){let i=document.getElementById("errorToastBody");i?i.textContent=o:console.warn("Error toast body element not found.");let r=document.getElementById("errorToast");new bootstrap.Toast(r,{delay:2e3}).show()}cancelEdit(){this.isEditing=!1,this.ngOnInit()}static \u0275fac=function(i){return new(i||a)(b(M),b(O))};static \u0275cmp=m({type:a,selectors:[["app-profile"]],standalone:!0,features:[f],decls:48,vars:12,consts:[[1,"profile-wrapper"],[1,"profile-card"],[1,"profile-banner"],[1,"avatar-circle"],[1,"fas","fa-user-circle"],[1,"user-info"],[1,"badge"],[1,"profile-details",3,"ngSubmit","formGroup"],[1,"form-row"],["type","text","formControlName","t_fullname",3,"readonly"],["type","text","formControlName","t_username",3,"readonly"],["type","email","formControlName","t_email",3,"readonly"],["type","text","formControlName","t_mobile",3,"readonly"],["type","text","formControlName","t_city",3,"readonly"],["type","text","formControlName","t_address",3,"readonly"],[1,"button-group"],["type","button","class","btn edit-btn",3,"click",4,"ngIf"],["type","submit","class","btn save-btn",3,"disabled",4,"ngIf"],["type","button","class","btn cancel-btn",3,"click",4,"ngIf"],[1,"toast-container","position-fixed","top-0","end-0","p-3",2,"z-index","1100"],["id","successToast","role","alert","aria-live","assertive","aria-atomic","true",1,"toast","align-items-center","text-bg-success","border-0"],[1,"d-flex"],["id","successToastBody",1,"toast-body"],["type","button","data-bs-dismiss","toast","aria-label","Close",1,"btn-close","btn-close-white","me-2","m-auto"],["id","errorToast","role","alert","aria-live","assertive","aria-atomic","true",1,"toast","align-items-center","text-bg-danger","border-0"],["id","errorToastBody",1,"toast-body"],["type","button",1,"btn","edit-btn",3,"click"],["type","submit",1,"btn","save-btn",3,"disabled"],["type","button",1,"btn","cancel-btn",3,"click"]],template:function(i,r){i&1&&(e(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),s(4,"i",4),t(),e(5,"div",5)(6,"h2"),n(7),t(),e(8,"span",6),n(9),t()()(),e(10,"form",7),u("ngSubmit",function(){return r.updateTeller()}),e(11,"div",8)(12,"label"),n(13,"Nom complet"),t(),s(14,"input",9),t(),e(15,"div",8)(16,"label"),n(17,"Nom d'utilisateur"),t(),s(18,"input",10),t(),e(19,"div",8)(20,"label"),n(21,"Email"),t(),s(22,"input",11),t(),e(23,"div",8)(24,"label"),n(25,"Num\xE9ro de t\xE9l\xE9phone"),t(),s(26,"input",12),t(),e(27,"div",8)(28,"label"),n(29,"Ville"),t(),s(30,"input",13),t(),e(31,"div",8)(32,"label"),n(33,"Adresse"),t(),s(34,"input",14),t(),e(35,"div",15),P(36,pe,2,0,"button",16)(37,ce,2,1,"button",17)(38,me,2,0,"button",18),t()()(),e(39,"div",19)(40,"div",20)(41,"div",21),s(42,"div",22)(43,"button",23),t()(),e(44,"div",24)(45,"div",21),s(46,"div",25)(47,"button",23),t()()()()),i&2&&(l(7),g(r.profileForm.value.t_fullname||r.profileForm.value.u_username),l(2),g(r.userType==="teller"?"Teller":"Utilisateur"),l(),p("formGroup",r.profileForm),l(4),p("readonly",!r.isEditing),l(4),p("readonly",!r.isEditing),l(4),p("readonly",!r.isEditing),l(4),p("readonly",!r.isEditing),l(4),p("readonly",!r.isEditing),l(4),p("readonly",!r.isEditing),l(2),p("ngIf",!r.isEditing),l(),p("ngIf",r.isEditing),l(),p("ngIf",r.isEditing))},dependencies:[c,h,I,y,ie,Z,ee,te,oe,re],styles:['@charset "UTF-8";.profile-wrapper[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f6f8fa,#dcdfe3);min-height:100vh;display:flex;justify-content:center;align-items:center;padding:30px}.profile-card[_ngcontent-%COMP%]{background:#fff;border-radius:20px;box-shadow:0 8px 30px #0000001a;width:100%;max-width:600px;overflow:hidden;animation:_ngcontent-%COMP%_fadeIn .6s ease-in-out}.profile-banner[_ngcontent-%COMP%]{background:linear-gradient(to right,#6d5203,#dda706);padding:30px;text-align:center;color:#fff;position:relative}.avatar-circle[_ngcontent-%COMP%]{font-size:80px;color:#fff;margin-bottom:10px}.user-info[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:24px;margin:5px 0}.badge[_ngcontent-%COMP%]{background:#ffc107;color:#000;padding:5px 10px;border-radius:20px;font-weight:700;font-size:13px}.profile-details[_ngcontent-%COMP%]{padding:30px;display:flex;flex-direction:column;gap:15px}.form-row[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:600;margin-bottom:5px;display:block;color:#333}.form-row[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:10px 15px;border:1px solid #ccc;border-radius:10px;font-size:15px;background-color:#f9f9f9;transition:all .3s;font-weight:400;font-style:normal}.form-row[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-color:#dda706;background:#fff}.form-row[_ngcontent-%COMP%]   input[readonly][_ngcontent-%COMP%]{background-color:#eee;cursor:not-allowed}.button-group[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:10px;margin-top:15px}.cancel-btn[_ngcontent-%COMP%]{background:#ff0019!important;color:#fff}.btn[_ngcontent-%COMP%]{padding:10px 20px;border:none;border-radius:8px;font-weight:700;cursor:pointer;transition:.3s;background:linear-gradient(to right,#a37b04,#dda706);color:#fff}.btn[_ngcontent-%COMP%]:hover{background:linear-gradient(to right,#203a43,#2c5364)}.save-btn[_ngcontent-%COMP%]{background-color:#28a745;color:#fff}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)}}@media (max-width: 600px){.profile-card[_ngcontent-%COMP%]{margin:20px;padding:15px}.avatar-circle[_ngcontent-%COMP%]{font-size:60px}}@media (max-width: 768px){.profile-wrapper[_ngcontent-%COMP%]{padding:20px 10px;align-items:flex-start}.profile-card[_ngcontent-%COMP%]{margin:0 auto;width:100%;padding:0}.profile-banner[_ngcontent-%COMP%]{padding:20px 15px}.avatar-circle[_ngcontent-%COMP%]{font-size:60px;margin-bottom:5px}.user-info[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:20px;margin:5px 0}.badge[_ngcontent-%COMP%]{font-size:12px;padding:4px 8px}.profile-details[_ngcontent-%COMP%]{padding:20px 15px;gap:12px}.form-row[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:14px}.form-row[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{font-size:14px;padding:9px 12px}.button-group[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch;gap:10px}.btn[_ngcontent-%COMP%]{font-size:14px;padding:10px;width:100%}.save-btn[_ngcontent-%COMP%], .cancel-btn[_ngcontent-%COMP%]{width:100%}}@media (max-width: 480px){.profile-wrapper[_ngcontent-%COMP%]{padding:15px 8px}.user-info[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:18px}.avatar-circle[_ngcontent-%COMP%]{font-size:50px}.form-row[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:8px 10px;font-size:13px}.btn[_ngcontent-%COMP%]{font-size:13px;padding:9px}}']})};var R=class a{constructor(){}ngOnInit(){}static \u0275fac=function(i){return new(i||a)};static \u0275cmp=m({type:a,selectors:[["app-settings"]],standalone:!0,features:[f],decls:31,vars:0,consts:[[1,"container"],[1,"d-flex","justify-content-between","align-items-center","flex-wrap","grid-margin"],[1,"mb-3","mb-md-0"],[1,"btn","btn-primary"],[1,"row","mt-4"],[1,"col-md-6"],[1,"card","mb-3"],[1,"card-body","d-flex","justify-content-between","align-items-center"],[1,"form-label","mb-0"],[1,"form-check","form-switch"],["type","checkbox","id","whatsappSwitch",1,"form-check-input"],[1,"card"],["type","checkbox","id","smsSwitch",1,"form-check-input"],[1,"toast-container","position-fixed","top-0","end-0","p-3",2,"z-index","1100"],["id","successToast","role","alert","aria-live","assertive","aria-atomic","true",1,"toast","align-items-center","text-bg-success","border-0"],[1,"d-flex"],["id","successToastBody",1,"toast-body"],["type","button","data-bs-dismiss","toast","aria-label","Close",1,"btn-close","btn-close-white","me-2","m-auto"],["id","errorToast","role","alert","aria-live","assertive","aria-atomic","true",1,"toast","align-items-center","text-bg-danger","border-0"],["id","errorToastBody",1,"toast-body"]],template:function(i,r){i&1&&(e(0,"div",0)(1,"div",1)(2,"div")(3,"h2",2),n(4,"Settings (Message Mode)"),t()(),e(5,"button",3),n(6,"Create Send Mode"),t()(),s(7,"hr"),e(8,"div",4)(9,"div",5)(10,"div",6)(11,"div",7)(12,"label",8),n(13,"WhatsApp"),t(),e(14,"div",9),s(15,"input",10),t()()(),e(16,"div",11)(17,"div",7)(18,"label",8),n(19,"SMS"),t(),e(20,"div",9),s(21,"input",12),t()()()()(),e(22,"div",13)(23,"div",14)(24,"div",15),s(25,"div",16)(26,"button",17),t()(),e(27,"div",18)(28,"div",15),s(29,"div",19)(30,"button",17),t()()()())},dependencies:[y,h,c],styles:[".container[_ngcontent-%COMP%]{position:relative;top:85px}.card[_ngcontent-%COMP%]{border-radius:16px}"]})};function ge(a,o){if(a&1&&(e(0,"tr")(1,"td"),n(2),t(),e(3,"td"),n(4),t(),e(5,"td"),n(6),t(),e(7,"td"),n(8),t()()),a&2){let i=o.$implicit,r=o.index;l(2),g(r+1),l(2),g(i.bu_name),l(2),g(i.vues),l(2),g(i.favoris)}}function fe(a,o){if(a&1&&(e(0,"table")(1,"thead")(2,"tr")(3,"th"),n(4,"N\xB0"),t(),e(5,"th"),n(6,"Nom"),t(),e(7,"th"),n(8,"Vues"),t(),e(9,"th"),n(10,"Favoris"),t()()(),e(11,"tbody"),P(12,ge,9,4,"tr",15),t()()),a&2){let i=w();l(12),p("ngForOf",i.most_visited_entities)}}function ue(a,o){a&1&&(e(0,"div",16),n(1," Aucune entit\xE9 populaire pour le moment. "),t())}var A=class a{constructor(o){this.http=o}teller_infos;infos_reports;most_visited_entities;t_uid;ngOnInit(){let o=sessionStorage.getItem("teller_infos");this.teller_infos=o,o&&(this.teller_infos=JSON.parse(o),this.t_uid=this.teller_infos.t_uid),this.reportsTeller(),this.getCurrentLocationAndAddress()}reportsTeller(){let o={t_uid:this.t_uid};this.http.ReportsTeller(o).subscribe({next:i=>{this.infos_reports=i,this.most_visited_entities=this.infos_reports.most_visited_entities,console.log(this.infos_reports)}})}getCurrentLocationAndAddress(){navigator.geolocation?navigator.geolocation.getCurrentPosition(o=>{let i=o.coords.latitude,r=o.coords.longitude;console.log("Latitude:",i,"Longitude:",r),this.getCityAndCommuneFromCoords(i,r).then(d=>{sessionStorage.setItem("localisation",JSON.stringify(d)),sessionStorage.setItem("coordonne",JSON.stringify(o.coords)),console.log("localisation:",d),console.log("coordonne:",o.coords),console.log("Ville:",d.city),console.log("Commune:",d.commune)})},o=>{console.error("Erreur de g\xE9olocalisation :",o.message)},{enableHighAccuracy:!0,timeout:1e4,maximumAge:0}):console.error("La g\xE9olocalisation n\u2019est pas prise en charge par ce navigateur.")}getCityAndCommuneFromCoords(o,i){let r=`https://nominatim.openstreetmap.org/reverse?format=json&lat=${o}&lon=${i}&zoom=18&addressdetails=1`;return fetch(r,{headers:{"User-Agent":"CoocleSearch/1.0 (your@email.com)"}}).then(d=>d.json()).then(d=>{let E=d.address;return{infos_maps:E,commune:E}}).catch(d=>(console.error("Erreur g\xE9ocodage inverse :",d),{}))}static \u0275fac=function(i){return new(i||a)(b(O))};static \u0275cmp=m({type:a,selectors:[["app-dashboard"]],standalone:!0,features:[f],decls:51,vars:6,consts:[[1,"d-sm-flex"],[1,"fw-bold","text-dark","m-0"],["href","#",1,"btn"],[1,"fas","fa-download","fa-sm","text-white-50"],[1,"grid"],[1,"card"],[1,"stats"],[1,"fas","fa-store"],[1,"fas","fa-bullhorn"],[1,"fas","fa-eye"],[1,"fas","fa-heart"],[1,"grid",2,"margin-top","40px"],[4,"ngIf"],["class","no_view",4,"ngIf"],[1,"chart"],[4,"ngFor","ngForOf"],[1,"no_view"]],template:function(i,r){i&1&&(e(0,"body")(1,"div",0)(2,"h3",1),n(3,"Dashboard"),t(),e(4,"a",2),s(5,"i",3),n(6," G\xE9n\xE9rer un rapport"),t()(),e(7,"div",4)(8,"div",5)(9,"div",6),s(10,"i",7),e(11,"strong"),n(12),t(),n(13," Entit\xE9s enregistr\xE9es"),t()(),e(14,"div",5)(15,"div",6),s(16,"i",8),e(17,"strong"),n(18),t(),n(19," Publicit\xE9s actives"),t()(),e(20,"div",5)(21,"div",6),s(22,"i",9),e(23,"strong"),n(24),t(),n(25," Vues ce mois"),t()(),e(26,"div",5)(27,"div",6),s(28,"i",10),e(29,"strong"),n(30),t(),n(31," Favoris utilisateurs"),t()()(),e(32,"div",11)(33,"div",5)(34,"h3"),n(35,"Entit\xE9s les plus visit\xE9es"),t(),P(36,fe,13,1,"table",12)(37,ue,2,0,"div",13),t(),e(38,"div",5)(39,"h3"),n(40,"Statistiques de recherche"),t(),e(41,"div",14),n(42,"(Graphique dynamique \xE0 int\xE9grer ici)"),t()(),e(43,"div",5)(44,"h3"),n(45,"Alertes / V\xE9rifications"),t(),e(46,"ul")(47,"li"),n(48,"1 entit\xE9 sans g\xE9olocalisation"),t(),e(49,"li"),n(50,"3 entit\xE9s non visit\xE9es depuis 30 jours"),t()()()()()),i&2&&(l(12),g(r.infos_reports.all_business),l(6),g(r.infos_reports.all_publicites_active),l(6),g(r.infos_reports.all_vue_this_month),l(6),g(r.infos_reports.all_business_favoris),l(6),p("ngIf",r.most_visited_entities&&r.most_visited_entities.length>0),l(),p("ngIf",r.most_visited_entities&&r.most_visited_entities.length===0))},dependencies:[c,h,K,I,y],styles:["[_ngcontent-%COMP%]:root{--primary: #4e73df;--bg-light: #f4f6f9;--card-bg: #ffffff;--text-color: #333;--border-radius: 16px;--shadow: 0 6px 12px rgba(0, 0, 0, .1)}body[_ngcontent-%COMP%]{font-family:Segoe UI,sans-serif;background-color:var(--bg-light);margin:0;padding:30px;color:var(--text-color)}h1[_ngcontent-%COMP%]{text-align:center;font-size:32px;margin-bottom:40px}.grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(320px,1fr));gap:25px}.card[_ngcontent-%COMP%]{background:var(--card-bg);padding:24px;border-radius:var(--border-radius);box-shadow:var(--shadow);transition:transform .3s ease}.card[_ngcontent-%COMP%]:hover{transform:translateY(-5px)}.stats[_ngcontent-%COMP%]{display:flex;align-items:center;font-size:20px;gap:15px}.stats[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:28px;background:linear-gradient(to right,#6d5203,#dda706);-webkit-background-clip:text;-webkit-text-fill-color:transparent}table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;margin-top:15px}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{padding:12px;border-bottom:1px solid #e3e3e3;text-align:left}th[_ngcontent-%COMP%]{background:#f0f2f5;color:#444}.btn[_ngcontent-%COMP%]{display:inline-block;margin:6px 0;padding:10px 16px;background-color:var(--primary);color:#fff;border-radius:6px;text-decoration:none;font-weight:500;border:0px;background:linear-gradient(to right,#a37b04,#dda706);transition:background .3s}.btn[_ngcontent-%COMP%]:hover{background:linear-gradient(to right,#203a43,#396679)}.map[_ngcontent-%COMP%], .chart[_ngcontent-%COMP%]{height:250px;background-color:#ebeff5;border-radius:var(--border-radius);display:flex;align-items:center;justify-content:center;color:#666;font-style:italic}.d-sm-flex[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;align-items:center;justify-content:space-between;margin-bottom:40px}.d-sm-flex[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0}.no_view[_ngcontent-%COMP%]{margin-top:30px;border-radius:left;justify-content:center;color:#666;font-style:italic}@media (max-width: 992px){body[_ngcontent-%COMP%]{padding:20px}.grid[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:20px}.card[_ngcontent-%COMP%]{padding:20px}h3[_ngcontent-%COMP%]{font-size:1.2rem}.stats[_ngcontent-%COMP%]{font-size:18px}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:10px 8px}.btn[_ngcontent-%COMP%]{padding:8px 14px;font-size:.9rem}}@media (max-width: 576px){body[_ngcontent-%COMP%]{padding:15px}.grid[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:15px}.card[_ngcontent-%COMP%]{padding:16px}h3[_ngcontent-%COMP%]{font-size:1.1rem}.stats[_ngcontent-%COMP%]{font-size:16px}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:8px 6px;font-size:.85rem}.btn[_ngcontent-%COMP%]{padding:7px 12px;font-size:.85rem;width:100%;text-align:center}table[_ngcontent-%COMP%]{display:block;overflow-x:auto;white-space:nowrap}}"]})};var be=[{path:"",component:D,children:[{path:"",redirectTo:"dashboard",pathMatch:"full"},{path:"dashboard",component:A},{path:"profile",component:j},{path:"business",loadChildren:()=>import("./chunk-7LXVOTM4.js").then(a=>a.BusinessModule)},{path:"categories",loadChildren:()=>import("./chunk-HJ6H2DMT.js").then(a=>a.CategoriesModule)},{path:"settings",component:R}]}],L=class a{static \u0275fac=function(i){return new(i||a)};static \u0275mod=T({type:a});static \u0275inj=k({imports:[c.forChild(be),c]})};var le=class a{static \u0275fac=function(i){return new(i||a)};static \u0275mod=T({type:a});static \u0275inj=k({imports:[h,L]})};export{le as TellerModule};
