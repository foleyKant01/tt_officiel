import{a as w}from"./chunk-BSYTQXDF.js";import{a as ne}from"./chunk-5FXP5EYW.js";import{a as A,b as y,c as $,d as J,e as K,f as O,g as L,h as H,i as Q,m as W,n as X,o as Y,p as P}from"./chunk-MC74N3Z2.js";import{$ as G,A as p,E as V,G as g,I as i,J as o,K as l,L as U,M as u,N as h,O as a,P as v,S as f,_ as B,aa as m,d as te,fa as q,ga as M,ja as d,l as x,p as s,q as _,t as T,u as j,z as c}from"./chunk-5VA7YNX3.js";var S=class n{static \u0275fac=function(e){return new(e||n)};static \u0275cmp=s({type:n,selectors:[["app-categories"]],standalone:!0,features:[f],decls:1,vars:0,template:function(e,r){e&1&&l(0,"router-outlet")},dependencies:[d,q,Y,m]})};var E=class n{static \u0275fac=function(e){return new(e||n)};static \u0275cmp=s({type:n,selectors:[["app-spinner"]],decls:8,vars:0,consts:[[1,"container-fluid",2,"display","flex","justify-content","center","padding-top","300px"],[1,"body"],[1,"spinner"],[1,"bounce1"],[1,"bounce2"],[1,"bounce3"]],template:function(e,r){e&1&&(i(0,"div",0)(1,"div",1)(2,"div",2),l(3,"div",3)(4,"div",4)(5,"div",5),o(),i(6,"span"),a(7,"Veillez patienter"),o()()())},styles:[".body[_ngcontent-%COMP%]{border:1px solid rgb(185,185,185);margin:0;background-color:#fff;border-radius:10px;width:360px;height:180px;text-align:center}.spinner[_ngcontent-%COMP%]{margin-top:15%;margin-bottom:5px;margin-left:135px;width:90px;text-align:center}.spinner[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:15px;height:15px;background-color:#333;border-radius:100%;display:inline-block;animation:_ngcontent-%COMP%_bounce 1.4s infinite ease-in-out both}.spinner[_ngcontent-%COMP%]   .bounce1[_ngcontent-%COMP%]{animation-delay:-.32s}.spinner[_ngcontent-%COMP%]   .bounce2[_ngcontent-%COMP%]{animation-delay:-.16s}@keyframes _ngcontent-%COMP%_bounce{0%,80%,to{transform:scale(0)}40%{transform:scale(1)}}"]})};function ie(n,t){if(n&1){let e=U();i(0,"tr")(1,"td"),a(2),o(),i(3,"td"),a(4),o(),i(5,"td"),a(6),o(),i(7,"td",10)(8,"button",12),u("click",function(){let b=T(e).$implicit,F=h(2);return j(F.RedirectToUpdateCategories(b.ca_uid))}),l(9,"i",13),o()(),i(10,"td",10)(11,"button",14),u("click",function(){let b=T(e).$implicit,F=h(2);return j(F.deleteCategorie(b.ca_uid))}),l(12,"i",15),o()()()}if(n&2){let e=t.$implicit,r=t.index;c(2),v(r+1),c(2),v(e==null?null:e.name),c(2),v(e==null?null:e.description)}}function re(n,t){if(n&1&&(i(0,"table",8)(1,"thead",9)(2,"tr")(3,"th"),a(4,"#"),o(),i(5,"th"),a(6,"Nom"),o(),i(7,"th"),a(8,"Description"),o(),i(9,"th",10),a(10,"Modifier"),o(),i(11,"th",10),a(12,"Supprimer"),o()()(),i(13,"tbody"),V(14,ie,13,3,"tr",11),o()()),n&2){let e=h();c(14),g("ngForOf",e.dataCategories)}}function ae(n,t){n&1&&(i(0,"div",16),l(1,"i",17)(2,"br"),a(3," Aucune cat\xE9gorie enregistr\xE9e. "),o())}var k=class n{constructor(t,e){this.router=t;this.http=e}categories=[];dataCategories=[];deleteResult=[];allCategories=[];ngOnInit(){this.Readallcategories()}goToAddCategorie(){this.router.navigate(["/teller/categories/create-categories"])}Readallcategories(){this.http.ReadAllCategories().subscribe({next:t=>{this.allCategories=t||[],t?.categories&&(this.dataCategories=t?.categories,console.log(this.dataCategories))}})}RedirectToUpdateCategories(t){this.router.navigate(["/admin/categories/update-categories",t])}deleteCategorie(t){let e={ca_uid:t};confirm("\xCAtes-vous s\xFBr de vouloir supprimer ce produit ?")&&this.http.DeleteCategories(e).subscribe({next:r=>{this.deleteResult=r?.status,console.log("Uid: ",e),console.log(this.deleteResult),window.location.reload()}})}static \u0275fac=function(e){return new(e||n)(p(M),p(w))};static \u0275cmp=s({type:n,selectors:[["app-readall-categories"]],standalone:!0,features:[f],decls:10,vars:2,consts:[[1,"container-fluid","px-3","py-4",2,"margin-top","40px"],[1,"d-flex","justify-content-between","align-items-center","mb-4"],[1,"fw-bold","text-dark","m-0"],[1,"btn","btn-warning","text-white","fw-bold","px-3","py-2",3,"click"],[1,"fas","fa-plus","me-2"],[1,"table-responsive","shadow-sm","rounded","bg-white","p-3"],["class","table table-hover align-middle",4,"ngIf"],["class","text-center py-4 text-muted",4,"ngIf"],[1,"table","table-hover","align-middle"],[1,"table-light","text-dark"],[1,"text-center"],[4,"ngFor","ngForOf"],[1,"btn","btn-outline-warning","btn-sm","rounded-circle",3,"click"],[1,"fas","fa-edit"],[1,"btn","btn-outline-danger","btn-sm","rounded-circle",3,"click"],[1,"fas","fa-trash-alt"],[1,"text-center","py-4","text-muted"],[1,"fas","fa-folder-open","fa-2x","mb-2"]],template:function(e,r){e&1&&(i(0,"div",0)(1,"div",1)(2,"h3",2),a(3,"\u{1F4C2} Toutes les cat\xE9gories"),o(),i(4,"button",3),u("click",function(){return r.goToAddCategorie()}),l(5,"i",4),a(6," Proposer une cat\xE9gorie "),o()(),i(7,"div",5),V(8,re,15,1,"table",6)(9,ae,4,0,"div",7),o()()),e&2&&(c(8),g("ngIf",r.dataCategories&&r.dataCategories.length>0),c(),g("ngIf",(r.dataCategories==null?null:r.dataCategories.length)===0))},dependencies:[d,m,B,G,P],styles:[".table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{vertical-align:middle}.btn-sm[_ngcontent-%COMP%]{width:36px;height:36px;padding:0;border:0px;font-size:16px;background:linear-gradient(to right,#a37b04,#dda706)}.btn-outline-warning[_ngcontent-%COMP%]{color:#fff}.btn-sm[_ngcontent-%COMP%]:hover{background:linear-gradient(to right,#203a43,#396679)}.btn[_ngcontent-%COMP%]{border:0px;background:linear-gradient(to right,#a37b04,#dda706)}.btn[_ngcontent-%COMP%]:hover{background:linear-gradient(to right,#203a43,#396679)}"]})};var I=class n{static \u0275fac=function(e){return new(e||n)};static \u0275cmp=s({type:n,selectors:[["app-update-categories"]],decls:0,vars:0,template:function(e,r){},styles:["#wrappe[_ngcontent-%COMP%]{padding-top:5%;display:flex;width:auto!important;margin-bottom:0;position:relative;float:none;margin-left:0!important;justify-content:space-around}form[_ngcontent-%COMP%]{padding:10px 30px;min-width:330px;margin-left:5px;margin-right:5px;border-radius:10px;box-shadow:4px 2px 12px #b1b1b1,-8px -8px 10px #fff}button[_ngcontent-%COMP%]{background-color:#000;border:0px;padding:5px 8px;border-radius:3px;color:#fff}button[_ngcontent-%COMP%]:hover{background-color:#ffc107;font-weight:600;cursor:pointer}.mt-2[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{color:#656565}a[_ngcontent-%COMP%]{color:#000;text-decoration:none}.Copyrights[_ngcontent-%COMP%]{margin-top:10px;margin-bottom:10px;display:flex;justify-content:space-around;color:#9b9b9b}label[_ngcontent-%COMP%]{min-width:50px!important;color:#656565}.div-input[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding-right:75px}label[_ngcontent-%COMP%]{min-width:90px!important;color:#656565;padding-top:6px}input[_ngcontent-%COMP%]{height:35px}.blur-background[_ngcontent-%COMP%]{filter:blur(5px)}.overlay[_ngcontent-%COMP%]{position:fixed;top:65%;left:57.7%;transform:translate(-50%,-50%);z-index:9999}"]})};var z=te(ne());var D=class n{constructor(t,e,r){this.router=t;this.fb=e;this.http=r}teller_infos;t_uid;data;loading=!1;delayDuration=2e3;ngOnInit(){let t=sessionStorage.getItem("teller_infos");this.teller_infos=t,t&&(this.teller_infos=JSON.parse(t),this.t_uid=this.teller_infos.t_uid),this.createcategories.patchValue({payment_method:"bank",create_by:this.t_uid})}createcategories=new K({name:new O(null,y.required),description:new O(null,y.required),create_by:new O("",y.required)});Createcategories(){this.loading=!0;let t=this.createcategories?.value;this.http.CreateCategories(t).subscribe({next:e=>{console.log(e),e?.status==="success"?(this.data=e,z.default.fire({title:"Succ\xE8s !",text:"La Categorie a \xE9t\xE9 cr\xE9\xE9e avec succ\xE8s !",icon:"success",confirmButtonText:"OK",confirmButtonColor:"#dda706"}).then(()=>{window.location.reload()})):z.default.fire({title:"Erreur !",text:e?.message||"\xC9chec de cr\xE9ation.",icon:"error",confirmButtonText:"R\xE9essayer",confirmButtonColor:"#ff6c2f"})},error:e=>{console.error(e),setTimeout(()=>{this.loading=!1},this.delayDuration)}})}static \u0275fac=function(e){return new(e||n)(p(M),p(X),p(w))};static \u0275cmp=s({type:n,selectors:[["app-create-categories"]],standalone:!0,features:[f],decls:16,vars:2,consts:[[1,"category-form-container"],["novalidate","",3,"ngSubmit","formGroup"],[1,"form-title"],[1,"form-group"],["for","name"],["id","name","type","text","formControlName","name","placeholder","Entrez le nom de la cat\xE9gorie","required","",1,"form-control"],["for","description"],["id","description","formControlName","description","rows","4","placeholder","D\xE9crivez la cat\xE9gorie","required","",1,"form-control"],[1,"form-actions"],["type","submit",1,"btn-submit",3,"disabled"]],template:function(e,r){e&1&&(i(0,"div",0)(1,"form",1),u("ngSubmit",function(){return r.Createcategories()}),i(2,"h2",2),a(3,"Cr\xE9er une cat\xE9gorie"),o(),l(4,"hr"),i(5,"div",3)(6,"label",4),a(7,"Nom :"),o(),l(8,"input",5),o(),i(9,"div",3)(10,"label",6),a(11,"Description :"),o(),l(12,"textarea",7),o(),i(13,"div",8)(14,"button",9),a(15," Cr\xE9er "),o()()()()),e&2&&(c(),g("formGroup",r.createcategories),c(13),g("disabled",r.createcategories.invalid))},dependencies:[d,m,P,L,A,$,J,W,H,Q],styles:[".category-form-container[_ngcontent-%COMP%]{max-width:480px;margin:3rem auto;background:#fff;padding:30px 40px;border-radius:12px;box-shadow:0 8px 24px #0000001f;font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif;color:#444}.form-title[_ngcontent-%COMP%]{font-weight:700;font-size:1.8rem;margin-bottom:1rem;color:#333;text-align:center}hr[_ngcontent-%COMP%]{margin-bottom:2rem;border:none;height:2px;background:linear-gradient(90deg,#ffc107,#b8860b);border-radius:3px}.form-group[_ngcontent-%COMP%]{margin-bottom:1.6rem;display:flex;flex-direction:column}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:600;margin-bottom:.5rem;color:#555}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{border:1.5px solid #ddd;border-radius:8px;padding:.6rem 1rem;font-size:1rem;color:#222;transition:border-color .3s ease}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{outline:none;border-color:#ffc107;box-shadow:0 0 8px #ffc107aa}.form-actions[_ngcontent-%COMP%]{display:flex;justify-content:center}.form-actions[_ngcontent-%COMP%]   .btn-submit[_ngcontent-%COMP%]{background:#000;color:#fff;padding:12px 30px;font-size:1.1rem;font-weight:700;border:none;border-radius:50px;cursor:pointer;background:linear-gradient(to right,#a37b04,#dda706);transition:background .35s ease}.form-actions[_ngcontent-%COMP%]   .btn-submit[_ngcontent-%COMP%]:hover:not(:disabled){background:linear-gradient(to right,#203a43,#396679);color:#000}.form-actions[_ngcontent-%COMP%]   .btn-submit[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}@media (max-width: 576px){.category-form-container[_ngcontent-%COMP%]{margin:2rem 1rem;padding:25px 20px}}"]})};var le=[{path:"",component:S,children:[{path:"",redirectTo:"create-categories",pathMatch:"full"},{path:"create-categories",component:D},{path:"readall-categories",component:k},{path:"update-categories/:bu_uid",component:I},{path:"spinner",component:E}]}],N=class n{static \u0275fac=function(e){return new(e||n)};static \u0275mod=_({type:n});static \u0275inj=x({imports:[d.forChild(le),d]})};var ee=class n{static \u0275fac=function(e){return new(e||n)};static \u0275mod=_({type:n});static \u0275inj=x({imports:[m,N]})};export{ee as CategoriesModule};
