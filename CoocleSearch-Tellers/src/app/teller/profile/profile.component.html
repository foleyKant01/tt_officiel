<div class="profile-container">
  <div class="profile-header">
    <div class="avatar">
      <i class="fas fa-user-circle"></i>
    </div>
    <h3 class="username">{{ profileForm.value.t_fullname || profileForm.value.u_username }}</h3>
    <p class="role">{{ userType === 'teller' ? 'Teller' : 'Utilisateur Simple' }}</p>
  </div>

  <form [formGroup]="profileForm" (ngSubmit)="updateProfile()">
    <div class="form-group">
      <label>Nom complet</label>
      <input formControlName="t_fullname" class="form-control" placeholder="Nom complet" [readonly]="!isEditing">
    </div>

    <div class="form-group">
      <label>Nom d'utilisateur</label>
      <input formControlName="t_username" class="form-control" placeholder="Nom d'utilisateur" [readonly]="!isEditing">
    </div>

    <div class="form-group">
      <label>Email</label>
      <input formControlName="t_email" class="form-control" placeholder="Email" [readonly]="!isEditing">
    </div>

    <div class="form-group">
      <label>Mobile</label>
      <input formControlName="t_mobile" class="form-control" placeholder="Téléphone" [readonly]="!isEditing">
    </div>

    <div class="form-group">
      <label>Ville</label>
      <input formControlName="t_city" class="form-control" placeholder="Ville" [readonly]="!isEditing">
    </div>

    <div class="form-group">
      <label>Adresse</label>
      <input formControlName="t_address" class="form-control" placeholder="Adresse" [readonly]="!isEditing">
    </div>

    <div class="btn-group mt-3">
      <button *ngIf="!isEditing" class="btn btn-primary" type="button" (click)="isEditing = true">Modifier</button>
      <button *ngIf="isEditing" class="btn btn-success" type="submit" [disabled]="profileForm.invalid">Enregistrer</button>
      <button *ngIf="isEditing" class="btn btn-secondary" type="button" (click)="cancelEdit()">Annuler</button>
    </div>
  </form>
</div>
